<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0" />
    <meta name="description" content="">


    <link rel="icon" href="/BEM-for-PRM/images/favicon.png" type="image/png">

    <title>Call measure via API : OSSTD doc</title>

    
    <link href="/BEM-for-PRM/css/nucleus.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/fontawesome-all.min.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/hybrid.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/featherlight.min.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/perfect-scrollbar.min.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/auto-complete.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/atom-one-dark-reasonable.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/theme.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/tabs.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/hugo-theme.css?1674850809" rel="stylesheet">
    
    <link href="/BEM-for-PRM/css/theme-copper.css?1674850809" rel="stylesheet">
    
    <link href="/BEM-for-PRM/css/foo.css?1674850809" rel="stylesheet"><link href="/BEM-for-PRM/css/bar.css?1674850809" rel="stylesheet">

    <script src="/BEM-for-PRM/js/jquery-3.3.1.min.js?1674850809"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

<script async src="https://www.googletagmanager.com/gtag/js?id=G-XWF7DKJRZD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XWF7DKJRZD');
</script>
  </head>
  <body class="" data-url="/BEM-for-PRM/get_start/os_engine/call_use_api/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <h4 style="margin-bottom:2px; color: white !important"> OpenStudio Standards </h4>
<h5 style="margin-top: 2px; color: white !important"> - Create Baseline Building</h5>
<p style="font-size: 13px; color: white">ASHRAE Standard 90.1-2019 Performance Rating Method Automated</p>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/BEM-for-PRM/js/lunr.min.js?1674850809"></script>
<script type="text/javascript" src="/BEM-for-PRM/js/auto-complete.js?1674850809"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/pnnl.github.io\/BEM-for-PRM";
    
</script>
<script type="text/javascript" src="/BEM-for-PRM/js/search.js?1674850809"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/BEM-for-PRM/overview/" title="Overview" class="dd-item
        
        
        
        ">
      <a href="/BEM-for-PRM/overview/">
          Overview
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/overview/capabilities/" title="Key Capabilities" class="dd-item ">
        <a href="/BEM-for-PRM/overview/capabilities/">
        <b>- </b>Key Capabilities
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/overview/limitations/" title="Limitations" class="dd-item ">
        <a href="/BEM-for-PRM/overview/limitations/">
        <b>- </b>Limitations
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/BEM-for-PRM/get_start/" title="Getting Started" class="dd-item
        parent
        
        
        ">
      <a href="/BEM-for-PRM/get_start/">
          Getting Started
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/BEM-for-PRM/get_start/os_app/" title="Use with OpenStudio App" class="dd-item
        
        
        
        ">
      <a href="/BEM-for-PRM/get_start/os_app/">
          <b>1. </b>Use with OpenStudio App
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_app/where_os_app/" title="Get OpenStudio" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_app/where_os_app/">
        <b>- </b>Get OpenStudio
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_app/where_os_measure/" title="Install the measure" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_app/where_os_measure/">
        <b>- </b>Install the measure
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_app/how_run_measure/" title="Run the measure" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_app/how_run_measure/">
        <b>- </b>Run the measure
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_app/run_measure_cli/" title="Run measure in CLI" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_app/run_measure_cli/">
        <b>- </b>Run measure in CLI
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/BEM-for-PRM/get_start/os_engine/" title="Use with OpenStudio Engine" class="dd-item
        parent
        
        
        ">
      <a href="/BEM-for-PRM/get_start/os_engine/">
          <b>2. </b>Use with OpenStudio Engine
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_engine/installation/" title="Installation" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_engine/installation/">
        <b>- </b>Installation
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_engine/call_use_api/" title="Call measure via API" class="dd-item active">
        <a href="/BEM-for-PRM/get_start/os_engine/call_use_api/">
        <b>- </b>Call measure via API
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_engine/link_api_doc/" title="API documentation" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_engine/link_api_doc/">
        <b>- </b>API documentation
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_engine/quick_start/" title="Examples" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_engine/quick_start/">
        <b>- </b>Examples
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/BEM-for-PRM/user_guide/" title="User Guide" class="dd-item
        
        
        
        ">
      <a href="/BEM-for-PRM/user_guide/">
          User Guide
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/BEM-for-PRM/user_guide/model_requirements/" title="Model requirements" class="dd-item
        
        
        
        ">
      <a href="/BEM-for-PRM/user_guide/model_requirements/">
          <b>1. </b>Model requirements
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/model_requirements/standards_space_type/" title="Standards space type" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/model_requirements/standards_space_type/">
        <b>- </b>Standards space type
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/model_requirements/other_requirements/" title="Other requirements" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/model_requirements/other_requirements/">
        <b>- </b>Other requirements
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/" title="User compliance data" class="dd-item
        
        
        
        ">
      <a href="/BEM-for-PRM/user_guide/add_compliance_data/">
          <b>2. </b>User compliance data
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_airloop_hvac/" title="User data: Airloop HVAC" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_airloop_hvac/">
        <b>- </b>User data: Airloop HVAC
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_airloop_hvac_doas/" title="User data: Airloop HVAC DOAS" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_airloop_hvac_doas/">
        <b>- </b>User data: Airloop HVAC DOAS
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_building/" title="User data: Building" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_building/">
        <b>- </b>User data: Building
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_design_specification_outdoor_air/" title="User data: Outdoor Air" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_design_specification_outdoor_air/">
        <b>- </b>User data: Outdoor Air
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_exterior_lights/" title="User Data: Exterior Lights" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_exterior_lights/">
        <b>- </b>User Data: Exterior Lights
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_electric_equipment/" title="User data: Electric Equip" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_electric_equipment/">
        <b>- </b>User data: Electric Equip
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_gas_equipment/" title="User data: Gas Equip" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_gas_equipment/">
        <b>- </b>User data: Gas Equip
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_lights/" title="User data: Lights" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_lights/">
        <b>- </b>User data: Lights
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_space/" title="User data: Space" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_space/">
        <b>- </b>User data: Space
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_space_type/" title="User data: Space type" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_space_type/">
        <b>- </b>User data: Space type
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_thermal_zone/" title="User data: Thermal Zone" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_thermal_zone/">
        <b>- </b>User data: Thermal Zone
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_wateruse_connections/" title="User data: Water Connections" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_wateruse_connections/">
        <b>- </b>User data: Water Connections
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_wateruse_equipment_definition/" title="User data: Water Equip Def" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_wateruse_equipment_definition/">
        <b>- </b>User data: Water Equip Def
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_wateruse_equipment/" title="User data: Water Equipment" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_wateruse_equipment/">
        <b>- </b>User data: Water Equipment
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_zone_hvac/" title="User data: Zone HVAC" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_zone_hvac/">
        <b>- </b>User data: Zone HVAC
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_zone_infiltration/" title="User data: Zone Infiltration" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_zone_infiltration/">
        <b>- </b>User data: Zone Infiltration
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/BEM-for-PRM/user_guide/prm_api_ref/" title="PRM API Reference" class="dd-item
        
        
        
        ">
      <a href="/BEM-for-PRM/user_guide/prm_api_ref/">
          <b>3. </b>PRM API Reference
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/prm_api_ref/baseline_generation_api/" title="Baseline generation API" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/prm_api_ref/baseline_generation_api/">
        <b>- </b>Baseline generation API
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/prm_api_ref/wwr_api/" title="Window API" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/prm_api_ref/wwr_api/">
        <b>- </b>Window API
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/NREL/openstudio-standards/tree/AppendixG_Dev"><i class='fab fa-github'></i> Github repo</a>
              </li>
          
              <li>
                  <a class="padding" href="http://www.rubydoc.info/gems/openstudio-standards"><i class='fas fa-bookmark'></i> API Documentation</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <center>
    
    <a class="github-button" href="https://github.com/NREL/openstudio-standards/archive/AppendixG_Dev.zip" data-icon="octicon-cloud-download" aria-label="Download matcornic/hugo-theme-learn on GitHub">Download</a>

    
    <a class="github-button" href="https://github.com/NREL/openstudio-standards" data-icon="octicon-star" data-show-count="true" aria-label="Star matcornic/hugo-theme-learn on GitHub">Star</a>

    
    <a class="github-button" href="https://github.com/NREL/openstudio-standards/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork matcornic/hugo-theme-learn on GitHub">Fork</a>

    <p><i class="fas fa-heart"></i></a> from <a href="https://pnnl.gov">PNNL</a></p>

    <img src="/BEM-for-PRM/images/PNNL_CENTER_White.png" alt="PNNL-logo" width="200px" style="margin-top: 50px">
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/BEM-for-PRM/'>Home</a> > <a href='/BEM-for-PRM/get_start/'>Getting Started</a> > <a href='/BEM-for-PRM/get_start/os_engine/'>Use with OpenStudio Engine</a> > Call measure via API
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Call measure via API
            </h1>
          

        


<p>This instruction will give an quick overview of the API method that generates baseline model(s) from a provided openstudio model.</p>
<ul>
<li><a href="#create-stable-baseline-building-api">Create stable baseline building API</a></li>
<li><a href="#user-data">User data</a></li>
<li><a href="#baseline-outputs">Baseline outputs</a></li>
</ul>
<div style="height: 1px; background-color: #dbd9d9"></div>
<h4 id="create-stable-baseline-building-api">Create stable baseline building API</h4>
<p>The ASHRAE 90.1-2019 PRM automation can be called in a Ruby script via its API method. The API method provides great flexibility for creating customized modeling workflow. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>require <span style="color:#e6db74">`openstudio`</span>
</span></span><span style="display:flex;"><span>require <span style="color:#e6db74">`openstudio-standard`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>model_path <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;C:\demo\output\\&#39;</span>
</span></span><span style="display:flex;"><span>save_path <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;C:\demo\source\\&#39;</span>
</span></span><span style="display:flex;"><span>base_model <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;test_model.osm&#39;</span>
</span></span><span style="display:flex;"><span>modified_model <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;modified_model_demo.osm&#39;</span>
</span></span><span style="display:flex;"><span>translator <span style="color:#f92672">=</span> <span style="color:#66d9ef">OpenStudio</span><span style="color:#f92672">::</span><span style="color:#66d9ef">OSVersion</span><span style="color:#f92672">::</span><span style="color:#66d9ef">VersionTranslator</span><span style="color:#f92672">.</span>new
</span></span><span style="display:flex;"><span>model <span style="color:#f92672">=</span> translator<span style="color:#f92672">.</span>loadModel(model_path <span style="color:#f92672">+</span> base_model)<span style="color:#f92672">.</span>get
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Adjust window to wall ratio to 60%</span>
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>getSurfaces<span style="color:#f92672">.</span>each <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>ss<span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">unless</span> ss<span style="color:#f92672">.</span>subSurfaces<span style="color:#f92672">.</span>empty?
</span></span><span style="display:flex;"><span>    orig_construction <span style="color:#f92672">=</span> ss<span style="color:#f92672">.</span>subSurfaces<span style="color:#f92672">[</span><span style="color:#ae81ff">0</span><span style="color:#f92672">].</span>construction<span style="color:#f92672">.</span>get
</span></span><span style="display:flex;"><span>    ss<span style="color:#f92672">.</span>subSurfaces<span style="color:#f92672">.</span>sort<span style="color:#f92672">.</span>each(<span style="color:#f92672">&amp;</span><span style="color:#e6db74">:remove</span>)
</span></span><span style="display:flex;"><span>    new_window <span style="color:#f92672">=</span> ss<span style="color:#f92672">.</span>setWindowToWallRatio(<span style="color:#ae81ff">0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">8</span>, <span style="color:#66d9ef">true</span>)<span style="color:#f92672">.</span>get
</span></span><span style="display:flex;"><span>    new_window<span style="color:#f92672">.</span>setConstruction(orig_construction)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add overhangs on south facade.</span>
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>getSubSurfaces<span style="color:#f92672">.</span>each <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>s<span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span>  absoluteAzimuth <span style="color:#f92672">=</span> <span style="color:#66d9ef">OpenStudio</span><span style="color:#f92672">.</span>convert(s<span style="color:#f92672">.</span>azimuth, <span style="color:#e6db74">&#39;rad&#39;</span>, <span style="color:#e6db74">&#39;deg&#39;</span>)<span style="color:#f92672">.</span>get <span style="color:#f92672">+</span> s<span style="color:#f92672">.</span>space<span style="color:#f92672">.</span>get<span style="color:#f92672">.</span>directionofRelativeNorth <span style="color:#f92672">+</span> model<span style="color:#f92672">.</span>getBuilding<span style="color:#f92672">.</span>northAxis
</span></span><span style="display:flex;"><span>  absoluteAzimuth <span style="color:#f92672">-=</span> <span style="color:#ae81ff">360</span><span style="color:#f92672">.</span><span style="color:#ae81ff">0</span> <span style="color:#66d9ef">until</span> absoluteAzimuth <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">360</span><span style="color:#f92672">.</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">next</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">!</span>((absoluteAzimuth <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">135</span><span style="color:#f92672">.</span><span style="color:#ae81ff">0</span>) <span style="color:#f92672">&amp;&amp;</span> (absoluteAzimuth <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">225</span><span style="color:#f92672">.</span><span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>  new_overhang <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span>addOverhangByProjectionFactor(<span style="color:#ae81ff">0</span><span style="color:#f92672">.</span><span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Build the standard PRM routine</span>
</span></span><span style="display:flex;"><span>standard <span style="color:#f92672">=</span> <span style="color:#66d9ef">Standard</span><span style="color:#f92672">.</span>build(<span style="color:#e6db74">&#39;90.1-PRM-2019&#39;</span>)
</span></span><span style="display:flex;"><span>baseline_dir <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>dirname(<span style="color:#66d9ef">Dir</span><span style="color:#f92672">.</span>pwd)<span style="color:#e6db74">}</span><span style="color:#e6db74">/output&#34;</span>
</span></span><span style="display:flex;"><span>hvac_bldg_type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;other nonresidential&#39;</span>
</span></span><span style="display:flex;"><span>wwr_bldg_type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Office &lt;= 5,000 sq ft&#39;</span>
</span></span><span style="display:flex;"><span>swh_bldg_type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Office&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>standard<span style="color:#f92672">.</span>model_create_prm_stable_baseline_building(model, climate_zone, hvac_bldg_type, wwr_bldg_type, swh_bldg_type, baseline_dir, run_all_orients<span style="color:#f92672">=</span><span style="color:#66d9ef">false</span>, unmet_load_hours_check<span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>, debug<span style="color:#f92672">=</span><span style="color:#66d9ef">false</span>)
</span></span></code></pre></div><p>What the script above did was:</p>
<ol>
<li>Load an OSM model - it could be any model created as a proposed model for creating a baseline system.</li>
<li>Make adjustments to the model:
<ul>
<li>Change the window-to-wall ratio to 60% (adding a span glazings on every wall)</li>
<li>Add overhangs to the south facade of the model.</li>
</ul>
</li>
<li>General the baseline model by calling the API method.</li>
</ol>
<p>At the end of the script, the <code>standard</code> object calls a function <code>model_create_prm_stable_baseline_building</code> is the API function that generates the baseline model.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>standard<span style="color:#f92672">.</span>model_create_prm_stable_baseline_building(model, climate_zone, hvac_bldg_type, wwr_bldg_type, swh_bldg_type, baseline_dir, run_all_orients<span style="color:#f92672">=</span><span style="color:#66d9ef">false</span>, unmet_load_hours_check<span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>, debug<span style="color:#f92672">=</span><span style="color:#66d9ef">false</span>)
</span></span></code></pre></div><p>A detail description of the arguments can be found in the <a href="/BEM-for-PRM/user_guide/prm_api_ref/baseline_generation_api/">API document</a>.</p>
<div style="height: 1px; background-color: #dbd9d9"></div>
<h4 id="user-data">User data</h4>
<p>In PRM routines, one additional step allows users to add code compliance-specific data to the baseline generation workflow. Data missing in most building energy models, such as space type for a space, lighting space type for space lighting, or motor horsepower for electric equipment, can be added to the user data before calling the API.
The use of the user data can be found in the <a href="/BEM-for-PRM/user_guide/add_compliance_data/">Add compliance data</a> section.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#75715e"># Create PRM object</span>
</span></span><span style="display:flex;"><span>standard <span style="color:#f92672">=</span> <span style="color:#66d9ef">Standard</span><span style="color:#f92672">.</span>build(<span style="color:#e6db74">&#39;90.1-PRM-2019&#39;</span>)
</span></span><span style="display:flex;"><span>baseline_dir <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>dirname(<span style="color:#66d9ef">Dir</span><span style="color:#f92672">.</span>pwd)<span style="color:#e6db74">}</span><span style="color:#e6db74">/output&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Converts user data from .csv file to .json file</span>
</span></span><span style="display:flex;"><span>json_path <span style="color:#f92672">=</span> standard<span style="color:#f92672">.</span>convert_userdata_csv_to_json(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>dirname(<span style="color:#66d9ef">Dir</span><span style="color:#f92672">.</span>pwd)<span style="color:#e6db74">}</span><span style="color:#e6db74">/user_data&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span>baseline_dir<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Load the user data json files into the PRM routine.</span>
</span></span><span style="display:flex;"><span>standard<span style="color:#f92672">.</span>load_userdata_to_standards_database(json_path)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Generate baseline</span>
</span></span><span style="display:flex;"><span>standard<span style="color:#f92672">.</span>model_create_prm_stable_baseline_building(model, climate_zone, hvac_bldg_type, wwr_bldg_type, swh_bldg_type, baseline_dir, run_all_orients<span style="color:#f92672">=</span><span style="color:#66d9ef">false</span>, unmet_load_hours_check<span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>, debug<span style="color:#f92672">=</span><span style="color:#66d9ef">false</span>)
</span></span></code></pre></div><p>The above script first creates the PRM object from OpenStudio Standards, then converts the data from <code>.csv</code> to <code>.json</code> and loads them into the object before generating the baseline. It is important to convert the CSV to JSON before loading them to the PRM object. The <a href="/BEM-for-PRM/user_guide/prm_api_ref/baseline_generation_api/#convert_userdata_csv_to_json">API documents</a> gives a more detail description of the function <code>convert_userdata_csv_to_json</code> and <code>load_userdata_to_standards_database</code>.</p>
<div style="height: 1px; background-color: #dbd9d9"></div>
<h4 id="baseline-outputs">Baseline outputs</h4>
<p>A successful baseline generation creates several baseline model(s) and folders under the <code>baseline_dir</code> as shown in the image below.
<img src="/BEM-for-PRM/get_start/os_engine/images/baseline_generation_completion_folder.PNG?width=650px&amp;align=left&amp;classes=border,alignLeft" alt="Folder structure"></p>
<p><strong>SR_[NUMBER]</strong>:
Several folders are generated and saved in the <code>baseline_dir</code>. They typically start with <code>SR_</code> and ends with a number or <code>PROP</code>. These folders contain the energy model and their sizing run outputs. The number records the index of the sizing run. <code>PROP</code> indicates a sizing run on a proposed model. A more detailed description of the baseline generation steps is described in the <a href="/BEM-for-PRM/user_guide/prm_api_ref/baseline_generation_api/">API document</a>.</p>
<p><strong>user_data_json</strong>:
The <code>user_data_json</code> saves all user-defined data in JSON format. The list includes the complete set of user data regardless there is data or not.</p>
<p><strong>final.osm</strong>: A baseline OpenStudio model at 0 rotation degrees.</p>
<p><strong>final_NUM.idf</strong>:
Depending on whether the baseline model case meets the G3.1(5).a building rotation requirements, the baseline generation produces one or four EnergyPlus files. If there are no rotations, the folder would only contain one <code>final.idf</code>; else, there would be<code>final_0.idf</code>, <code>final_90.idf</code>, <code>final_180.idf</code>, and <code>final_270.idf</code>.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/BEM-for-PRM/get_start/os_engine/installation/" title="Installation"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/BEM-for-PRM/get_start/os_engine/link_api_doc/" title="API documentation" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/BEM-for-PRM/js/clipboard.min.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/perfect-scrollbar.min.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/perfect-scrollbar.jquery.min.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/jquery.sticky.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/featherlight.min.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/highlight.pack.js?1674850809"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/BEM-for-PRM/js/modernizr.custom-3.6.0.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/learn.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/hugo-learn.js?1674850809"></script>
    
        
            <script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

