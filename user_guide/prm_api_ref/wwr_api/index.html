<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0" />
    <meta name="description" content="">


    <link rel="icon" href="/BEM-for-PRM/images/favicon.png" type="image/png">

    <title>Window API : OSSTD doc</title>

    
    <link href="/BEM-for-PRM/css/nucleus.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/fontawesome-all.min.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/hybrid.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/featherlight.min.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/perfect-scrollbar.min.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/auto-complete.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/atom-one-dark-reasonable.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/theme.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/tabs.css?1674850809" rel="stylesheet">
    <link href="/BEM-for-PRM/css/hugo-theme.css?1674850809" rel="stylesheet">
    
    <link href="/BEM-for-PRM/css/theme-copper.css?1674850809" rel="stylesheet">
    
    <link href="/BEM-for-PRM/css/foo.css?1674850809" rel="stylesheet"><link href="/BEM-for-PRM/css/bar.css?1674850809" rel="stylesheet">

    <script src="/BEM-for-PRM/js/jquery-3.3.1.min.js?1674850809"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

<script async src="https://www.googletagmanager.com/gtag/js?id=G-XWF7DKJRZD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XWF7DKJRZD');
</script>
  </head>
  <body class="" data-url="/BEM-for-PRM/user_guide/prm_api_ref/wwr_api/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <h4 style="margin-bottom:2px; color: white !important"> OpenStudio Standards </h4>
<h5 style="margin-top: 2px; color: white !important"> - Create Baseline Building</h5>
<p style="font-size: 13px; color: white">ASHRAE Standard 90.1-2019 Performance Rating Method Automated</p>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/BEM-for-PRM/js/lunr.min.js?1674850809"></script>
<script type="text/javascript" src="/BEM-for-PRM/js/auto-complete.js?1674850809"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/pnnl.github.io\/BEM-for-PRM";
    
</script>
<script type="text/javascript" src="/BEM-for-PRM/js/search.js?1674850809"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/BEM-for-PRM/overview/" title="Overview" class="dd-item
        
        
        
        ">
      <a href="/BEM-for-PRM/overview/">
          Overview
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/overview/capabilities/" title="Key Capabilities" class="dd-item ">
        <a href="/BEM-for-PRM/overview/capabilities/">
        <b>- </b>Key Capabilities
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/overview/limitations/" title="Limitations" class="dd-item ">
        <a href="/BEM-for-PRM/overview/limitations/">
        <b>- </b>Limitations
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/BEM-for-PRM/get_start/" title="Getting Started" class="dd-item
        
        
        
        ">
      <a href="/BEM-for-PRM/get_start/">
          Getting Started
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/BEM-for-PRM/get_start/os_app/" title="Use with OpenStudio App" class="dd-item
        
        
        
        ">
      <a href="/BEM-for-PRM/get_start/os_app/">
          <b>1. </b>Use with OpenStudio App
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_app/where_os_app/" title="Get OpenStudio" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_app/where_os_app/">
        <b>- </b>Get OpenStudio
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_app/where_os_measure/" title="Install the measure" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_app/where_os_measure/">
        <b>- </b>Install the measure
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_app/how_run_measure/" title="Run the measure" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_app/how_run_measure/">
        <b>- </b>Run the measure
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_app/run_measure_cli/" title="Run measure in CLI" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_app/run_measure_cli/">
        <b>- </b>Run measure in CLI
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/BEM-for-PRM/get_start/os_engine/" title="Use with OpenStudio Engine" class="dd-item
        
        
        
        ">
      <a href="/BEM-for-PRM/get_start/os_engine/">
          <b>2. </b>Use with OpenStudio Engine
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_engine/installation/" title="Installation" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_engine/installation/">
        <b>- </b>Installation
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_engine/call_use_api/" title="Call measure via API" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_engine/call_use_api/">
        <b>- </b>Call measure via API
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_engine/link_api_doc/" title="API documentation" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_engine/link_api_doc/">
        <b>- </b>API documentation
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/get_start/os_engine/quick_start/" title="Examples" class="dd-item ">
        <a href="/BEM-for-PRM/get_start/os_engine/quick_start/">
        <b>- </b>Examples
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/BEM-for-PRM/user_guide/" title="User Guide" class="dd-item
        parent
        
        
        ">
      <a href="/BEM-for-PRM/user_guide/">
          User Guide
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/BEM-for-PRM/user_guide/model_requirements/" title="Model requirements" class="dd-item
        
        
        
        ">
      <a href="/BEM-for-PRM/user_guide/model_requirements/">
          <b>1. </b>Model requirements
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/model_requirements/standards_space_type/" title="Standards space type" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/model_requirements/standards_space_type/">
        <b>- </b>Standards space type
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/model_requirements/other_requirements/" title="Other requirements" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/model_requirements/other_requirements/">
        <b>- </b>Other requirements
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/" title="User compliance data" class="dd-item
        
        
        
        ">
      <a href="/BEM-for-PRM/user_guide/add_compliance_data/">
          <b>2. </b>User compliance data
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_airloop_hvac/" title="User data: Airloop HVAC" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_airloop_hvac/">
        <b>- </b>User data: Airloop HVAC
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_airloop_hvac_doas/" title="User data: Airloop HVAC DOAS" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_airloop_hvac_doas/">
        <b>- </b>User data: Airloop HVAC DOAS
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_building/" title="User data: Building" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_building/">
        <b>- </b>User data: Building
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_design_specification_outdoor_air/" title="User data: Outdoor Air" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_design_specification_outdoor_air/">
        <b>- </b>User data: Outdoor Air
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_exterior_lights/" title="User Data: Exterior Lights" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_exterior_lights/">
        <b>- </b>User Data: Exterior Lights
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_electric_equipment/" title="User data: Electric Equip" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_electric_equipment/">
        <b>- </b>User data: Electric Equip
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_gas_equipment/" title="User data: Gas Equip" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_gas_equipment/">
        <b>- </b>User data: Gas Equip
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_lights/" title="User data: Lights" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_lights/">
        <b>- </b>User data: Lights
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_space/" title="User data: Space" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_space/">
        <b>- </b>User data: Space
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_space_type/" title="User data: Space type" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_space_type/">
        <b>- </b>User data: Space type
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_thermal_zone/" title="User data: Thermal Zone" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_thermal_zone/">
        <b>- </b>User data: Thermal Zone
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_wateruse_connections/" title="User data: Water Connections" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_wateruse_connections/">
        <b>- </b>User data: Water Connections
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_wateruse_equipment_definition/" title="User data: Water Equip Def" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_wateruse_equipment_definition/">
        <b>- </b>User data: Water Equip Def
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_wateruse_equipment/" title="User data: Water Equipment" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_wateruse_equipment/">
        <b>- </b>User data: Water Equipment
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_zone_hvac/" title="User data: Zone HVAC" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_zone_hvac/">
        <b>- </b>User data: Zone HVAC
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/add_compliance_data/user_data_zone_infiltration/" title="User data: Zone Infiltration" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_zone_infiltration/">
        <b>- </b>User data: Zone Infiltration
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/BEM-for-PRM/user_guide/prm_api_ref/" title="PRM API Reference" class="dd-item
        parent
        
        
        ">
      <a href="/BEM-for-PRM/user_guide/prm_api_ref/">
          <b>3. </b>PRM API Reference
          
            <i class="fas fa-chevron-right read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/prm_api_ref/baseline_generation_api/" title="Baseline generation API" class="dd-item ">
        <a href="/BEM-for-PRM/user_guide/prm_api_ref/baseline_generation_api/">
        <b>- </b>Baseline generation API
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/BEM-for-PRM/user_guide/prm_api_ref/wwr_api/" title="Window API" class="dd-item active">
        <a href="/BEM-for-PRM/user_guide/prm_api_ref/wwr_api/">
        <b>- </b>Window API
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/NREL/openstudio-standards/tree/AppendixG_Dev"><i class='fab fa-github'></i> Github repo</a>
              </li>
          
              <li>
                  <a class="padding" href="http://www.rubydoc.info/gems/openstudio-standards"><i class='fas fa-bookmark'></i> API Documentation</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <center>
    
    <a class="github-button" href="https://github.com/NREL/openstudio-standards/archive/AppendixG_Dev.zip" data-icon="octicon-cloud-download" aria-label="Download matcornic/hugo-theme-learn on GitHub">Download</a>

    
    <a class="github-button" href="https://github.com/NREL/openstudio-standards" data-icon="octicon-star" data-show-count="true" aria-label="Star matcornic/hugo-theme-learn on GitHub">Star</a>

    
    <a class="github-button" href="https://github.com/NREL/openstudio-standards/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork matcornic/hugo-theme-learn on GitHub">Fork</a>

    <p><i class="fas fa-heart"></i></a> from <a href="https://pnnl.gov">PNNL</a></p>

    <img src="/BEM-for-PRM/images/PNNL_CENTER_White.png" alt="PNNL-logo" width="200px" style="margin-top: 50px">
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/BEM-for-PRM/'>Home</a> > <a href='/BEM-for-PRM/user_guide/'>User Guide</a> > <a href='/BEM-for-PRM/user_guide/prm_api_ref/'>PRM API Reference</a> > Window API
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Window API
            </h1>
          

        


<ul>
<li><a href="#quick-use">Quick use</a></li>
<li><a href="#function-workflow">Function workflow</a></li>
<li><a href="#how-to-use">How to use</a></li>
<li><a href="#input-arguments">Input arguments</a>
<ul>
<li><a href="#user_model">user_model</a></li>
<li><a href="#climate_zone">climate_zone</a></li>
</ul>
</li>
<li><a href="#output-values">Output values</a>
<ul>
<li><a href="#result">result</a></li>
<li><a href="#wwr_info">wwr_info</a></li>
</ul>
</li>
<li><a href="#multi-building-area-type-handling">Multi building area type handling</a></li>
</ul>
<div style="height: 1px; background-color: #dbd9d9"></div>
<h4 id="quick-use">Quick Use</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>wwr_building_type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Office &lt;= 5,000 sq ft&#34;</span>
</span></span><span style="display:flex;"><span>standard <span style="color:#f92672">=</span> <span style="color:#66d9ef">Standard</span><span style="color:#f92672">.</span>build(<span style="color:#e6db74">&#34;90.1-PRM-2019&#34;</span>)
</span></span><span style="display:flex;"><span>result, wwr_info <span style="color:#f92672">=</span> standard<span style="color:#f92672">.</span>model_apply_prm_baseline_window_to_wall_ratio(model, climate_zone<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#e6db74">wwr_building_type</span>: wwr_building_type)
</span></span></code></pre></div><p>The above code adjusts the window-to-wall ratio in the model to the specified building type. Each building type maps to a window-to-wall ratio.</p>
<table>
<thead>
<tr>
<th>Building Area Types</th>
<th>Baseline building vertical fenestration percentage of gross-above-grade wall area</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Grocery store</code></td>
<td>7%</td>
</tr>
<tr>
<td><code>Warehouse (nonrefrigerated)</code></td>
<td>6%</td>
</tr>
<tr>
<td><code>School (secondary and university)</code></td>
<td>22%</td>
</tr>
<tr>
<td><code>School (primary)</code></td>
<td>22%</td>
</tr>
<tr>
<td><code>Retail (strip mall)</code></td>
<td>20%</td>
</tr>
<tr>
<td><code>Retail (stand alone)</code></td>
<td>11%</td>
</tr>
<tr>
<td><code>Restaurant (quick service)</code></td>
<td>34%</td>
</tr>
<tr>
<td><code>Restaurant (full serivce)</code></td>
<td>24%</td>
</tr>
<tr>
<td><code>Office &gt; 50,000 sq ft</code></td>
<td>40%</td>
</tr>
<tr>
<td><code>Office &lt;= 5,000 sq ft</code></td>
<td>19%</td>
</tr>
<tr>
<td><code>Office 5,000 to 50,000 sq ft</code></td>
<td>31%</td>
</tr>
<tr>
<td><code>Hotel/motel &gt; 75 rooms</code></td>
<td>34%</td>
</tr>
<tr>
<td><code>Hotel/motel &lt;= 75 rooms</code></td>
<td>24%</td>
</tr>
<tr>
<td><code>Hospital</code></td>
<td>27%</td>
</tr>
<tr>
<td><code>Healthcare (outpatient)</code></td>
<td>21%</td>
</tr>
<tr>
<td><code>All other</code></td>
<td>40%</td>
</tr>
</tbody>
</table>
<p>The mapping is shown in the above table. Once the function identifies the correct building area, it will apply the window-to-wall ratio to the entire model.</p>
<div style="height: 1px; background-color: #dbd9d9"></div>
<h4 id="function-workflow">Function workflow</h4>

<div class="mermaid" align="center">
graph LR;
A(Model) -->|Loop| B(Spaces)
B -->|Apply building area type| C(BAT)
B -->|Surface conditioning category| D{Condition}
D -->|Conditioned space| E(Surfaces)
C -->|Target WWR| F(Adjust Ratio)
E -->|Existing WWR| F(Adjust WWR)
</div>

<div style="height: 1px; background-color: #dbd9d9"></div>
<h4 id="how-to-use">How to use</h4>
<p>As the workflow diagram indicated, the function checks each zone and surface to determine its conditioned type. The conditioned type of a zone is determined after model sizing simulation. Therefore, it is critical to note that this function will only work after a successful full-year simulation or sizing run. To do that, follow the script below before calling the function.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#75715e"># Initiate the standard to PRM and load the model (model needs to be v3.4 or lower)</span>
</span></span><span style="display:flex;"><span>standard <span style="color:#f92672">=</span> <span style="color:#66d9ef">Standard</span><span style="color:#f92672">.</span>build(<span style="color:#e6db74">&#34;90.1-PRM-2019&#34;</span>)
</span></span><span style="display:flex;"><span>translator <span style="color:#f92672">=</span> <span style="color:#66d9ef">OpenStudio</span><span style="color:#f92672">::</span><span style="color:#66d9ef">OSVersion</span><span style="color:#f92672">::</span><span style="color:#66d9ef">VersionTranslator</span><span style="color:#f92672">.</span>new
</span></span><span style="display:flex;"><span>model <span style="color:#f92672">=</span> translator<span style="color:#f92672">.</span>loadModel(model_path)<span style="color:#f92672">.</span>get
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Make a copy of the model</span>
</span></span><span style="display:flex;"><span>user_model <span style="color:#f92672">=</span> <span style="color:#66d9ef">BTAP</span><span style="color:#f92672">::</span><span style="color:#66d9ef">FileIO</span><span style="color:#f92672">.</span>deep_copy(model)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Run annual simulation</span>
</span></span><span style="display:flex;"><span>standard<span style="color:#f92672">.</span>model_run_simulation_and_log_errors(user_model, run_dir <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span>prototype_dir<span style="color:#e6db74">}</span><span style="color:#e6db74">/PROP&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Modify the window to wall ratio.</span>
</span></span><span style="display:flex;"><span>result, wwr_info <span style="color:#f92672">=</span> standard<span style="color:#f92672">.</span>model_apply_prm_baseline_window_to_wall_ratio(user_model, climate_zone, <span style="color:#e6db74">wwr_building_type</span>: wwr_building_type)
</span></span></code></pre></div>
<div class="notices warning" ><p>If the model is not simulated, this function can still run. However, it will not apply a target WWR to the model because it cannot find any conditioned surface to adjust WWR.</p>
</div>

<div style="height: 1px; background-color: #dbd9d9"></div>
<h4 id="function-behavior">Function behavior</h4>
<p>It is essential to understand the function behaviors before calling this function.</p>
<ol>
<li>If the target WWR is smaller than the model overall WWR, the function will proportionally reduce the size of every window while keeping their center coordinates fixed</li>
<li>If the target WWR is greater than the model overall WWR, the function will:
<ul>
<li>remove all windows in surfaces and add new ones to meet the required WWR. This step will only apply to surfaces that have windows</li>
<li>Plenums (including air loop supply and return plenums) are not considered in the WWR expanding algorithm.</li>
<li>If surfaces with windows reach a 90% WWR, the total gross WWR of the building is still smaller than the target WWR. The function will create new windows on every other surface to meet the target WWR for the building. The size of new windows should be proportional to their host surface.
<img src="/BEM-for-PRM/user_guide/prm_api_ref/images/wwr_expand_test.PNG?width=800px&amp;align=left&amp;classes=border" alt="WWR_EXPAND"></li>
<li>If there are doors on the surface, the maximum WWR for the surface will readjust to ensure the total fenestration area and doors are 90% of the surface area.
<img src="/BEM-for-PRM/user_guide/prm_api_ref/images/wwr_expand_doors_test.PNG?width=800px&amp;align=left&amp;classes=border" alt="WWR_DOOR_EXPAND"></li>
</ul>
</li>
</ol>
<div style="height: 1px; background-color: #dbd9d9"></div>
<h4 id="input-arguments">Input arguments</h4>
<h5 id="user_model">user_model</h5>
<p><code>user_model</code> shall be the OpenStudio model object (<code>OpenStudio::Model::Model</code>) that contains a complete description of a building energy model in <code>.osm</code> format.</p>
<h5 id="climate_zone">climate_zone</h5>
<p><code>climate_zone</code> is a String data. However, it is no longer used in the ASHRAE 90.1 2019 PRM method, so it is OK to type in an empty string.</p>
<h5 id="wwr_building_type">wwr_building_type</h5>
<p><code>wwr_building_type</code> is a hash key, and the value shall be user-defined. The default is <code>nil</code>. The <code>wwr_building_type</code> shall be a string taken from the list below:</p>
<ul>
<li><code>Warehouse (nonrefrigerated)</code></li>
<li><code>School (secondary and university)</code></li>
<li><code>School (primary)</code></li>
<li><code>Retail (strip mall)</code></li>
<li><code>Retail (stand alone)</code></li>
<li><code>Restaurant (quick service)</code></li>
<li><code>Restaurant (full serivce)</code></li>
<li><code>Office &gt; 50,000 sq ft</code></li>
<li><code>Office &lt;= 5,000 sq ft</code></li>
<li><code>Office 5,000 to 50,000 sq ft</code></li>
<li><code>Hotel/motel &gt; 75 rooms</code></li>
<li><code>Hotel/motel &lt;= 75 rooms</code></li>
<li><code>Hospital</code></li>
<li><code>Healthcare (outpatient)</code></li>
<li><code>Grocery store</code></li>
<li><code>All other</code></li>
</ul>

<div class="notices info" ><p>It is important to keep the <code>wwr_building_type</code> string identical to the list above. Otherwise, the function will set the target building <code>WWR</code> to <code>40%</code>.</p>
</div>

<div style="height: 1px; background-color: #dbd9d9"></div>
<h4 id="output-values">Output values</h4>
<h5 id="result">result</h5>
<p>The result is a boolean. <code>true</code> indicates a successful generation and <code>false</code> otherwise.</p>
<h5 id="wwr_info">wwr_info</h5>
<p>The <code>wwr_info</code> is a hash map that maps the <code>wwr_building_type</code> to its correspondent target <code>wwr</code>, which is applied when altering the model window-to-wall ratio.</p>
<pre tabindex="0"><code>{&#34;Office &lt;= 5,000 sq ft&#34;=&gt;19.0}
</code></pre><div style="height: 1px; background-color: #dbd9d9"></div>
<h4 id="multi-building-area-type-handling">Multi building area type handling</h4>
<p>One feature of the PRM routine is the capability of handling multiple building area types in one energy model.
For example, if an energy model is simulating a building mixed with retail (strip mall) and offices (&gt;50,000 sq ft). The baseline vertical fenestration percentage requirements differ for these two building area types. Previously, modelers had to manually adjust the generated baseline model to meet the compliance request. In the new workflow, we introduce the user data to handle this situation in the baseline generation runtime.</p>
<h5 id="create-user-data">Create user data</h5>
<p>To do that, we need to create user data. The example we are using is a typical small office model. In this model, we will identify one space as a retail (strip mall) space and the rest are an office (&gt;50,000 sq ft).</p>
<p>In this example, we will edit the <a href="/BEM-for-PRM/user_guide/add_compliance_data/user_data_space/">userdata_space</a> file in a spreadsheet.</p>
<p><img src="/BEM-for-PRM/user_guide/prm_api_ref/images/wwr_user_data_space.PNG" alt="wwr_user_data"></p>

<div class="notices info" ><p>It is recommended to edit the file in a spreadsheet cause this can avoid any special characters in the string misidentified by the OSSTD-PRM.
In this case, <code>Office &gt; 50,000 sq ft</code> can be mis-identified into two columns as <code>Office &gt; 50</code> and <code>000 sq ft</code>.</p>
</div>

<p>Once the user data is set, save the file as a <code>.csv</code> into a <code>user_data</code> folder.</p>
<h5 id="set-up-the-script">Set up the script</h5>
<p>Let&rsquo;s first set up basic data and load the user energy model</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#75715e"># Set up directories</span>
</span></span><span style="display:flex;"><span>model_dir <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>dirname(<span style="color:#66d9ef">Dir</span><span style="color:#f92672">.</span>pwd)<span style="color:#e6db74">}</span><span style="color:#e6db74">/output&#34;</span>
</span></span><span style="display:flex;"><span>user_model_dir <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>dirname(<span style="color:#66d9ef">Dir</span><span style="color:#f92672">.</span>pwd)<span style="color:#e6db74">}</span><span style="color:#e6db74">/source&#34;</span>
</span></span><span style="display:flex;"><span>user_model_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;proposed_model.osm&#39;</span>
</span></span><span style="display:flex;"><span>user_data_path <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span><span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>dirname(<span style="color:#66d9ef">Dir</span><span style="color:#f92672">.</span>pwd)<span style="color:#e6db74">}</span><span style="color:#e6db74">/user_data&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Set up basic parameters</span>
</span></span><span style="display:flex;"><span>climate_zone <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ASHRAE 169-2013-4A&#34;</span>
</span></span><span style="display:flex;"><span>wwr_building_type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Office &lt;= 5,000 sq ft&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># load user model</span>
</span></span><span style="display:flex;"><span>translator <span style="color:#f92672">=</span> <span style="color:#66d9ef">OpenStudio</span><span style="color:#f92672">::</span><span style="color:#66d9ef">OSVersion</span><span style="color:#f92672">::</span><span style="color:#66d9ef">VersionTranslator</span><span style="color:#f92672">.</span>new
</span></span><span style="display:flex;"><span>model <span style="color:#f92672">=</span> translator<span style="color:#f92672">.</span>loadModel(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span>user_model_dir<span style="color:#e6db74">}</span><span style="color:#e6db74">/</span><span style="color:#e6db74">#{</span>user_model_name<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)<span style="color:#f92672">.</span>get
</span></span><span style="display:flex;"><span>user_model <span style="color:#f92672">=</span> <span style="color:#66d9ef">BTAP</span><span style="color:#f92672">::</span><span style="color:#66d9ef">FileIO</span><span style="color:#f92672">.</span>deep_copy(model)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Initialize the standard routine</span>
</span></span><span style="display:flex;"><span>standard <span style="color:#f92672">=</span> <span style="color:#66d9ef">Standard</span><span style="color:#f92672">.</span>build(<span style="color:#e6db74">&#34;90.1-PRM-2019&#34;</span>)
</span></span></code></pre></div><p>Now we have everything we need, let&rsquo;s load the user data</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#75715e"># Convert the .csv files into json files and save the json files into model_dir</span>
</span></span><span style="display:flex;"><span>json_path <span style="color:#f92672">=</span> standard<span style="color:#f92672">.</span>convert_userdata_csv_to_json(user_data_path, model_dir)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># load the user data into standard object instance</span>
</span></span><span style="display:flex;"><span>standard<span style="color:#f92672">.</span>load_userdata_to_standards_database(json_path)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add the user data to the user model.</span>
</span></span><span style="display:flex;"><span>standard<span style="color:#f92672">.</span>handle_multi_building_area_types(user_model, climate_zone, <span style="color:#e6db74">&#39;&#39;</span>, wwr_building_type, <span style="color:#e6db74">&#39;&#39;</span>, {})
</span></span></code></pre></div><p>The three lines of code above accomplished three goals:</p>
<ol>
<li>Convert the .csv files into JSON files and save the JSON files into <code>model_dir</code></li>
<li>Load the user data into a Standard object instance</li>
<li>Call the Standard instance to add user data to the user energy model.</li>
</ol>
<p>The above three steps are crucial to the overall process. The function <code>handle_multi_building_area_types()</code> has six arguments. However, in this example, we only focus on the WWR API function. So supplying <code>user_model</code>, <code>climate_zone</code>, and <code>wwr_building_type</code> and setting the other argument to empty values is sufficient for our next step.</p>
<h5 id="run-window-to-wall-ratio-api">Run window to wall ratio API</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#75715e"># Run a simulation</span>
</span></span><span style="display:flex;"><span>standard<span style="color:#f92672">.</span>model_run_simulation_and_log_errors(user_model, run_dir <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span>prototype_dir<span style="color:#e6db74">}</span><span style="color:#e6db74">/PROP&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Adjust window to wall ratio</span>
</span></span><span style="display:flex;"><span>result, wwr_info <span style="color:#f92672">=</span> standard<span style="color:#f92672">.</span>model_apply_prm_baseline_window_to_wall_ratio(user_model, climate_zone, <span style="color:#e6db74">wwr_building_type</span>: wwr_building_type)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Save model</span>
</span></span><span style="display:flex;"><span>user_model<span style="color:#f92672">.</span>save(<span style="color:#66d9ef">OpenStudio</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Path</span><span style="color:#f92672">.</span>new(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span>prototype_dir<span style="color:#e6db74">}</span><span style="color:#e6db74">/wwr_output.osm&#34;</span>), <span style="color:#66d9ef">true</span>)
</span></span></code></pre></div><p>In the above three lines, the Standard first run an annual simulation of the model to ensure the model is correct and produces a sizing script for analyzing the space conditioning category.
Then the <code>model_apply_prm_baseline_window_to_wall_ratio</code> function applies the WWR adjustment to the user energy model.</p>
<p><img src="/BEM-for-PRM/user_guide/prm_api_ref/images/multi-building-type-handling-output.PNG" alt="multi-building-handling-output"></p>
<p>Open the model in the OpenStudio Application, and you can see the <code>Perimeter_ZN_2</code> space is adjusted to <code>19%</code> WWR, and the rest are adjusted to <code>40%</code> WWR.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/BEM-for-PRM/user_guide/prm_api_ref/baseline_generation_api/" title="Baseline generation API"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/BEM-for-PRM/user_guide/prm_api_ref/baseline_generation_api/" title="Baseline generation API" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/BEM-for-PRM/js/clipboard.min.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/perfect-scrollbar.min.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/perfect-scrollbar.jquery.min.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/jquery.sticky.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/featherlight.min.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/highlight.pack.js?1674850809"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/BEM-for-PRM/js/modernizr.custom-3.6.0.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/learn.js?1674850809"></script>
    <script src="/BEM-for-PRM/js/hugo-learn.js?1674850809"></script>
    
        
            <script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

